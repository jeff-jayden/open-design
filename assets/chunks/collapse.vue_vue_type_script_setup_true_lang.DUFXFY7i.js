import{d as v,p as y,q as $,c as b,r as h,X as C,o as f,h as V,j as c,G as d,w as r,k as m,n as g,K as k,Y as N,T as B,L as E,a as I,t as O,a5 as S,a6 as x,b as H}from"./framework.DDoBidLl.js";import{e as K}from"./index.DLXOL18D.js";import{_ as L}from"./index.CKV4KJOu.js";const w=Symbol("collapseContextKey"),T={class:"open-collapse"},u=v({name:"OpenCollapse",__name:"collapse",props:{modelValue:{},accordion:{type:Boolean}},emits:["update:modelValue","change"],setup(n,{emit:o}){const t=o,l=n,a=y(l.modelValue);$(()=>l.modelValue,()=>{a.value=l.modelValue,console.log(`activeNames.value: ${a.value}`)});const i=e=>{console.log(`handleItemClick ${e}`);let s=[...a.value];if(l.accordion)s=[a.value[0]===e?"":e],a.value=s;else{console.log(`修改前的：${s}`);const _=s.indexOf(e);_>-1?s.splice(_,1):s.push(e),a.value=s,console.log(`修改后的：${s}`)}t("update:modelValue",s),t("change",s)};return l.accordion&&a.value.length>1&&console.warn("accordion mode should only have one active item"),C(w,{activeNames:a,handleItemClick:i}),(e,s)=>(f(),b("div",T,[h(e.$slots,"default")]))}}),j=["id"],D={class:"open-collapse-item__wrapper"},q=["id"],p=v({name:"OpenCollapseItem",__name:"collapse-item",props:{name:{},title:{},disabled:{type:Boolean}},setup(n){const o=n,t=E(w),l=()=>{console.log(o.name),!o.disabled&&(t==null||t.handleItemClick(o.name))},a=V(()=>t==null?void 0:t.activeNames.value.includes(o.name)),i={beforeEnter(e){e.style.height="0px",e.style.overflow="hidden"},enter(e){e.style.height=`${e.scrollHeight}px`},afterEnter(e){e.style.height="",e.style.overflow=""},beforeLeave(e){e.style.height=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.style.height="0px"},afterLeave(e){e.style.height="",e.style.overflow=""}};return(e,s)=>(f(),b("div",{class:g(["open-collapse-item",{"is-disabled":e.disabled}])},[c("div",{onClick:l,id:`item-header-${e.name}`,class:g(["open-collapse-item__header",{"is-active":a.value,"is-disabled":e.disabled}])},[h(e.$slots,"title",{},()=>[I(O(e.title),1)]),d(m(L),{class:"header-angle"},{default:r(()=>[d(m(K))]),_:1})],10,j),d(B,k({name:"slide"},N(i)),{default:r(()=>[S(c("div",D,[c("div",{class:"open-collapse-item__content",id:`item-content-${e.name}`},[h(e.$slots,"default")],8,q)],512),[[x,a.value]])]),_:3},16)],2))}});u.install=n=>{n.component(u.name,u)};p.install=n=>{n.component(p.name,p)};const G=v({__name:"collapse",setup(n){const o=y(["1"]),t=l=>{console.log(l)};return(l,a)=>(f(),H(m(u),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value=i),onChange:t},{default:r(()=>[d(m(p),{title:"Consistency",name:"1"},{default:r(()=>a[1]||(a[1]=[c("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)])),_:1}),d(m(p),{title:"Feedback",name:"2"},{default:r(()=>a[2]||(a[2]=[c("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)])),_:1})]),_:1},8,["modelValue"]))}});export{G as _};

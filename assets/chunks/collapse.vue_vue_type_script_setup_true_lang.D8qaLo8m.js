import{d as v,p as y,q as $,c as b,o as f,r as h,X as C,L as V,h as k,j as c,G as d,a as x,t as N,w as r,k as m,n as g,ao as B,ap as E,K as I,Y as O,T as S,b as H}from"./framework.Dg_YdSV9.js";import{e as K}from"./index.DDCPcHk4.js";import{_ as L}from"./index.Cs7zQyVH.js";const w=Symbol("collapseContextKey"),T={class:"open-collapse"},p=v({name:"OpenCollapse",__name:"collapse",props:{modelValue:{},accordion:{type:Boolean}},emits:["update:modelValue","change"],setup(t,{emit:n}){const s=n,o=t,a=y(o.modelValue);$(()=>o.modelValue,()=>{a.value=o.modelValue,console.log(`activeNames.value: ${a.value}`)});const i=e=>{console.log(`handleItemClick ${e}`);let l=[...a.value];if(o.accordion)l=[a.value[0]===e?"":e],a.value=l;else{console.log(`修改前的：${l}`);const _=l.indexOf(e);_>-1?l.splice(_,1):l.push(e),a.value=l,console.log(`修改后的：${l}`)}s("update:modelValue",l),s("change",l)};return o.accordion&&a.value.length>1&&console.warn("accordion mode should only have one active item"),C(w,{activeNames:a,handleItemClick:i}),(e,l)=>(f(),b("div",T,[h(e.$slots,"default")]))}}),j=["id"],D={class:"open-collapse-item__wrapper"},q=["id"],u=v({name:"OpenCollapseItem",__name:"collapse-item",props:{name:{},title:{},disabled:{type:Boolean}},setup(t){const n=t,s=V(w),o=()=>{console.log(n.name),!n.disabled&&(s==null||s.handleItemClick(n.name))},a=k(()=>s==null?void 0:s.activeNames.value.includes(n.name)),i={beforeEnter(e){e.style.height="0px",e.style.overflow="hidden"},enter(e){e.style.height=`${e.scrollHeight}px`},afterEnter(e){e.style.height="",e.style.overflow=""},beforeLeave(e){e.style.height=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.style.height="0px"},afterLeave(e){e.style.height="",e.style.overflow=""}};return(e,l)=>(f(),b("div",{class:g(["open-collapse-item",{"is-disabled":t.disabled}])},[c("div",{onClick:o,id:`item-header-${t.name}`,class:g(["open-collapse-item__header",{"is-active":a.value,"is-disabled":t.disabled}])},[h(e.$slots,"title",{},()=>[x(N(t.title),1)]),d(m(L),{class:"header-angle"},{default:r(()=>[d(m(K))]),_:1})],10,j),d(S,I({name:"slide"},O(i)),{default:r(()=>[B(c("div",D,[c("div",{class:"open-collapse-item__content",id:`item-content-${t.name}`},[h(e.$slots,"default")],8,q)],512),[[E,a.value]])]),_:3},16)],2))}});p.install=t=>{t.component(p.name,p)};u.install=t=>{t.component(u.name,u)};const G=v({__name:"collapse",setup(t){const n=y(["1"]),s=o=>{console.log(o)};return(o,a)=>(f(),H(m(p),{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=i=>n.value=i),onChange:s},{default:r(()=>[d(m(u),{title:"Consistency",name:"1"},{default:r(()=>[...a[1]||(a[1]=[c("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)])]),_:1}),d(m(u),{title:"Feedback",name:"2"},{default:r(()=>[...a[2]||(a[2]=[c("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)])]),_:1})]),_:1},8,["modelValue"]))}});export{G as _};
